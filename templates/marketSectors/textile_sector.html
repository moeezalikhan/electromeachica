{% extends 'base.html' %}
{% load static %}
{% block title %}Textile Sector{% endblock %}
{% block content %}

    <!--Page Title-->
    <section class="page-title"
             style="background-image: url('{% static 'images/sectors/fabric-printing-machine-colorful-textile-designs-studio.jpg' %}')">
        <div class="auto-container">
            <h1>Textile Sector</h1>
            <ul class="page-breadcrumb">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'market_sector'%}">Market Sectors</a></li>
                <li><a href="{% url 'textile_sector' %}"></a>Textile Sector</li>
            </ul>
        </div>
    </section>
    <!--End Page Title-->

    <!--Sidebar Page Container-->
    <div class="sidebar-page-container">
        <div class="auto-container">
            <div class="row clearfix">
                <!--Content Side / Our Blog-->
                <div class="content-side pull-right col-lg-9 col-md-8 col-sm-12 col-xs-12">
                    <div class="services-single">
                        <div class="inner-box">
                            <div class="sec-title">
                                <h2>Introduction</h2>
                            </div>
                            <div class="text">
                                <p>The textile industry operates in a fast-paced, high-output environment where
                                    precision, durability, and process stability are essential. Our electromechanical
                                    solutions are designed to support every major stage of textile production, ensuring
                                    smooth operations with minimal downtime. From spinning and weaving to dyeing and
                                    finishing, we provide reliable systems that help manufacturers maintain consistent
                                    fabric quality and achieve production efficiency.</p>
                            </div>

                            <div class="two-column">
                                <div class="row clearfix">
                                    <div class="image-column col-lg-7 col-md-12 col-sm-12 col-xs-12">
                                        <div class="image-box"><a
                                                href="{% static 'images/sectors/textile/textile1.png' %}"
                                                data-fancybox="gallery"><img
                                                src="{% static 'images/sectors/textile/textile1.png' %}"
                                                alt=""></a></div>
                                    </div>
                                    <div class="info-column col-lg-5 col-md-12 col-sm-12 col-xs-12">
                                        <div class="inner-column">

                                            <!-- Service Block Two -->
                                            <div class="service-block-two">
                                                <div class="inner-box">
                                                    <span class="icon flaticon-gear"></span>
                                                    <h3><a href="#">Enhancing Production Efficiency</a></h3>
                                                    <p>We deliver equipment and systems engineered to withstand
                                                        continuous operation. Our solutions improve line speed, reduce
                                                        mechanical failures, and ensure dependable performance across
                                                        multiple shifts.</p>
                                                </div>
                                            </div>

                                            <!-- Service Block Two -->
                                            <div class="service-block-two">
                                                <div class="inner-box">
                                                    <span class="icon flaticon-shield"></span>
                                                    <h3><a href="#">Supporting Critical Processes</a></h3>
                                                    <p>Our products integrate seamlessly into textile workflows,
                                                        enabling improved control and monitoring over critical
                                                        operations such as tension control, motor operations,
                                                        temperature management, and automated movements.</p>
                                                </div>
                                            </div>

                                            <!-- Service Block Two -->
                                            <div class="service-block-two">
                                                <div class="inner-box">
                                                    <span class="icon flaticon-check"></span>
                                                    <h3><a href="#">Building Long-Term Reliability</a></h3>
                                                    <p>With a focus on industrial-grade materials and precision
                                                        engineering, our components and assemblies deliver long service
                                                        life even in harsh textile environments involving dust, fibers,
                                                        heat, and vibration.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="feature-info-block">
                                <h3 class="title">Solutions We Offer for the Textile Sector</h3>
                                <div class="row clearfix">
                                    <div class="info-column col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Automation Systems</h4>
                                            <ul class="clearfix">
                                                <li>Process automation for spinning, weaving, and knitting units</li>
                                                <li>Control panels and PLC integrations for consistent output</li>
                                                <li>Automated handling systems to reduce manual workload</li>
                                            </ul>
                                        </div>
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Electromechanical Assemblies</h4>
                                            <ul class="clearfix">
                                                <li>Custom motor assemblies for textile machinery</li>
                                                <li>Precision sensors and actuators for movement and tension
                                                    control
                                                </li>
                                                <li>Retrofitting solutions for upgrading existing machinery</li>
                                            </ul>
                                        </div>
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Testing & Quality Control Equipment</h4>
                                            <ul class="clearfix">
                                                <li>Testing benches for component validation</li>
                                                <li>Systems for verifying motor performance, pressure, and
                                                    temperature
                                                </li>
                                                <li>Calibration tools for ensuring high-quality fabric production
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Maintenance & Support</h4>
                                            <ul class="clearfix">
                                                <li>Diagnostic systems for early fault detection</li>
                                                <li>Preventive maintenance plans</li>
                                                <li>Rapid component replacement and repair services</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="image-column col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                        <figure class="image"><img src="{% static 'images/sectors/textile/textile2.png' %}"
                                                                   alt=""></figure>
                                    </div>
                                </div>
                            </div>
                            <div class="feature-info-block">
                                <h3 class="title">Benefits for Textile Manufacturers</h3>
                                <div class="row clearfix">
                                    <div class="info-column col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Improved Productivity</h4>
                                            <p>Our solutions help increase production speeds while maintaining accuracy,
                                                enabling manufacturers to meet large-volume demands.</p>
                                        </div>
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Energy Efficiency</h4>
                                            <p>Optimized electromechanical components reduce unnecessary power
                                                consumption, lowering operational costs.</p>
                                        </div>
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Consistent Fabric Quality</h4>
                                            <p>Precise control systems maintain uniform performance across machines,
                                                supporting quality standards in yarn, fabric, and finished goods.</p>
                                        </div>
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Reduced Downtime</h4>
                                            <p>Real-time monitoring and rugged components minimize unexpected
                                                breakdowns, ensuring uninterrupted production lines.</p>
                                        </div>
                                        <div class="inner-column">
                                            <h4 style="font-weight: normal; margin-bottom:5px;">Scalable Solutions</h4>
                                            <p>Whether for small textile mills or large production units, our systems
                                                can scale according to operational requirements.</p>
                                        </div>
                                    </div>
                                    <div class="image-column col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                        <figure class="image"><img src="{% static 'images/sectors/textile/textile3.png' %}"
                                                                   alt=""></figure>
                                    </div>
                                </div>
                            </div>
                            <div class="feature-info-block">
                                <h3 class="title">Special Section: Technology Integration for Modern Textile Mills</h3>
                                <div class="row clearfix">
                                    <div class="info-column col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                        <div class="inner-column">
                                            <p>With the shift toward smart manufacturing, we also support digital
                                                transformation in the textile sector. Our technology-driven solutions
                                                enable:</p>
                                            <ul class="clearfix">
                                                <li>IoT-based machine monitoring</li>
                                                <li>Real-time production analytics</li>
                                                <li>Predictive maintenance alerts</li>
                                                <li>Integration with ERP and MES systems</li>
                                            </ul>
                                            <p>These technologies empower textile manufacturers to optimize operations,
                                                reduce waste, and improve overall plant performance.</p>
                                        </div>
                                    </div>
                                    <div class="image-column col-lg-6 col-md-12 col-sm-12 col-xs-12">
                                        <figure class="image"><img src="{% static 'images/sectors/textile/textile4.png' %}"
                                                                   alt=""></figure>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Sidebar Side-->
                <div class="sidebar-side col-lg-3 col-md-3 col-sm-12 col-xs-12">
                    <aside class="sidebar">

                        <!--Blog Category Widget-->
                        <div class="sidebar-widget sidebar-blog-category">
                            <ul class="services-cat">
                                <li><a href="{% url 'educational_trainers' %}">Educational Trainers</a></li>
                                <li><a href="{% url 'industrial_trainers' %}">Industrial Trainers</a></li>
                                <li><a href="{% url 'testing_benches' %}">Testing Benches</a></li>
                                <li><a href="{% url 'textile_sector' %}">Textile</a></li>
                                <li class="active"><a href="{% url 'cement' %}">Cement</a></li>
                                <li><a href="{% url 'fmcg' %}">FMCG</a></li>
                                <li><a href="{% url 'chemicals' %}">Chemicals</a></li>
                            </ul>
                        </div>

                    </aside>
                </div>
            </div>
        </div>
    </div>
    <!-- End Sidebar Page Container -->
    <!-- Contact Section -->
    <section class="contact-section style-two">
        <div class="auto-container">
            <div class="row clearfix">

                <!-- Title Column -->
                <div class="title-column col-lg-3 col-md-12 col-sm-12 col-xs-12">
                    <div class="inner-column">
                        <div class="sec-title">
                            <h2>Request a Quote</h2>
                        </div>
                        <div class="text">
                            Your details are kept strictly confidential as per our company privacy policy.
                        </div>
                        <div class="link-box">
                            <a href="{% url 'contact_us' %}"><i class="fa fa-hand-o-right"></i> Contact Us</a>
                        </div>
                    </div>
                </div>

                <!-- Form Column -->
                <div class="form-column col-lg-9 col-md-12 col-sm-12 col-xs-12">
                    <div class="inner-column">
                        <div class="text">
                            <h4 style="font-weight: normal; margin-bottom:5px;">For Business Inquiries:</h4>
                            <p class="contact-text">Please complete our feedback form or contact us via our number <b>+92-21-36412339</b>. Our team is available <b>Monday to Saturday, 9:00 AM to 5:00 PM</b>, and will respond to your inquiry within 24 hours.</p>
                        </div>

                        <!-- Contact Form -->
                        <div class="contact-form">
                            <form id="homeContactForm" method="post" action="{% url 'contact_us' %}">
                                {% csrf_token %}
                                <div class="row clearfix">
                                    <div class="column col-md-6 col-sm-6 col-xs-12">
                                        <div class="form-group">
                                            <input type="text" name="username" placeholder="Your Name" required/>
                                        </div>
                                        <div class="form-group">
                                            <input type="email" name="email" placeholder="Email Address" required/>
                                        </div>
                                    </div>

                                    <div class="column col-md-6 col-sm-6 col-xs-12">
                                        <div class="form-group">
                                            <textarea name="message" placeholder="Message" required></textarea>
                                        </div>

                                        <div class="form-group" style="position: relative;">
                                            <button type="submit" class="theme-btn">Submit Now</button>

                                            <!-- Spinner -->
                                            <div id="homeLoader"
                                                 style="display:none; position:absolute; top:50%; right:10px; transform:translateY(-50%);
                                width:25px; height:25px; border:3px solid rgba(255,255,255,0.4);
                                border-top-color:#fff; border-radius:50%; animation:spin 1s linear infinite;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>

                            <!-- Success Popup -->
                            <div id="homePopupMessage"
                                 style="display:none; text-align:center; background:linear-gradient(135deg,#346599ff,#0056b3);
                        color:white; padding:15px; border-radius:8px; margin-top:10px;">
                                <h2 id="homePopupTitle"></h2>
                                <p>Your message has been sent successfully. We’ll contact you soon.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Spinner Animation -->
    <style>
        @keyframes spin {
            from {
                transform: translateY(-50%) rotate(0deg);
            }
            to {
                transform: translateY(-50%) rotate(360deg);
            }
        }
    </style>

    <!-- jQuery (only once in your site) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- AJAX Script -->
    <script>
        $(document).ready(function () {
            console.log("✅ Home page contact form ready");

            // Get CSRF Token
            function getCookie(name) {
                let cookieValue = null;
                if (document.cookie && document.cookie !== "") {
                    const cookies = document.cookie.split(";");
                    for (let cookie of cookies) {
                        cookie = cookie.trim();
                        if (cookie.substring(0, name.length + 1) === (name + "=")) {
                            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                            break;
                        }
                    }
                }
                return cookieValue;
            }

            const csrftoken = getCookie("csrftoken");

            // Handle Form Submit
            $("#homeContactForm").on("submit", function (e) {
                e.preventDefault();
                e.stopPropagation();

                const form = $(this);
                const url = form.attr("action");
                const formData = form.serialize();

                $("#homeLoader").show(); // Show spinner

                $.ajax({
                    type: "POST",
                    url: url,
                    data: formData,
                    headers: {"X-CSRFToken": csrftoken},
                    success: function (response) {
                        $("#homeLoader").hide(); // Hide spinner

                        if (response.status === "success") {
                            $("#homePopupTitle").text("Thank you, " + response.name + "!");
                            $("#homePopupMessage").fadeIn();

                            setTimeout(function () {
                                $("#homePopupMessage").fadeOut();
                                form.trigger("reset");
                            }, 3000);
                        } else {
                            alert("⚠️ Error: " + response.message);
                        }
                    },
                    error: function (xhr, status, error) {
                        $("#homeLoader").hide(); // Hide spinner
                        console.error("❌ AJAX error:", status, error);
                        alert("Something went wrong! Check console.");
                    }
                });
            });
        });
    </script>

{% endblock %}